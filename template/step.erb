<li class="collection-item step <%= step['status'] %>">
  <% if step['before'] %>
      <% step['before'].each do |hook| %>
          <%= get('hook').result(binding) %>
      <% end %>
  <% end %>

  <b><%= step['keyword'] %></b> <%= step['name'] %> (<%= duration(step['duration']) %>)

  <% if step['doc_string'] %>
     <%= '<br/><pre>' + ERB::Util.html_escape(step['doc_string']['value']) + '</pre>' %>
  <% end %>

  <% if step['rows'] %>
    <table cellpadding="0" cellspacing="0" style="table-layout: fixed; width: 90%;">
      <% step['rows'].each do |row| %>
          <tr style="border-bottom: 1px solid black;">
          <% row['cells'].each do |cell| %>
              <%= '<td>' + cell + ' </td> ' %>
          <% end %>
          </tr> 
      <% end %>
     </table>
  <% end %>

  <%#step part as hook%>
  <% hook = step %>
  <%= get('hook').result(binding) %>

  <% if step['after'] %>
      <% step['after'].each do |hook| %>
          <%= get('hook').result(binding) %>
      <% end %>
  <% end %>
</li>
